<!--
Copyright 2009, Google Inc.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following disclaimer
in the documentation and/or other materials provided with the
distribution.
    * Neither the name of Google Inc. nor the names of its
contributors may be used to endorse or promote products derived from
this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<link href="style/codesite.css" rel="stylesheet" type="text/css" /> 
<title>Web Audio</title> 
</head> 
 
<body>
<h2>Web Audio Examples</h2>
<p>This site introduces an early version of an audio engine with javascript API. It is analogous to the <code>canvas</code> element for 2D and 3D graphics.
  The engine is capable of dynamically positioning/spatializing and mixing multiple sound sources in three-dimensional space.
   It has a powerful modular routing system, supporting effects, a convolution engine for reverb, multiple sends, submixes, etc.
    Scheduled sound playback is provided for musical applications requiring a high degree of rhythmic precision.  Realtime analysis / visualizer support
    is also provided.</p> 
<p>These APIs are currently under development and are described in this <a href="http://chromium.googlecode.com/svn/trunk/samples/audio/specification/specification.html">specification</a> document.
</p>

<p>
	  Please direct any feedback to
	the Audio Incubator mailing list - <b>public-xg-audio@w3.org</b> or Chris Rogers - <b>crogers@google.com</b>.
</p> 
	
	
<h2>Getting Started</h2> 
<p>Currently, the audio API requires a build from a special
<a href="https://svn.webkit.org/repository/webkit/branches/audio/">branch</a> of WebKit.  Build instructions are <a href="#how-to-build">here</a>.

<h2>Samples</h2> 
<br> 
 
 
<table> 
<tbody> 
 
<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="drum-machine.html" imageanchor="1"><img src="images/drum-machine.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="drum-machine.html"><b>Drum Machine</b></a> is an interactive application illustrating the concept of "scheduled playback" where sounds can be sequenced very accurately in time.  Filter controls are also offered for a resonant 2-pole filter.</td> 
</tr> 

<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="convolution-effects.html" imageanchor="1"><img src="images/convolution-effects.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="convolution-effects.html"><b>Convolution Effects.</b></a> The powerful convolution engine is able to reproduce the sound of just about any real-world acoustic space but is also able to create some interesting special effects such as backward reverbs and strange filters.</td> 
</tr> 
  
<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="dj.html" imageanchor="1"><img src="images/dj.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="dj.html"><b>Digital DJ</b></a> is a fun example where beat-matched loops may be loaded onto a left and right virtual turntable and controlled with a cross-fader, 2pole resonant filters, and an echo-delay effect.</td> 
</tr> 
 
<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="granular.html" imageanchor="1"><img src="images/granular-effects.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="granular.html"><b>Granular Effects</b></a> is another example of "scheduled playback" like Drum Machine.  Here, the sound samples are small pieces (called "grains") taken from a larger sound buffer of a woman speaking. These small grains are then composited in various time sequences controllable by the sliders to achieve a crude but interesting time-stretching effect.  Each of the grains may be changed in pitch, time, diffusion, and panning (positioning).</td> 
</tr> 

<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="visualizer-gl.html" imageanchor="1"><img src="images/visualizer2-gl.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="visualizer-gl.html"><b>Realtime Analyser.</b></a> Here's another example of a visualizer using WebGL.  This requires
that WebGL be activated.  At the command-line you must type:
<br>
<br>
<pre>
$ defaults write com.apple.Safari WebKitWebGLEnabled -bool YES
</pre>

</td> 
</tr> 

 <tr> 
 <td style="width: 60px;"> 
 <div style="display: block; text-align: left;"><a href="box2d-js/box2d-audio.html" imageanchor="1"><img src="images/box2d.png" border="1"></a></div> 
 </td> 
 <td style="width: 300px;"><a href="box2d-js/box2d-audio.html"><b>box2d</b></a> is an example of an interactive application with a real-time physics engine.
   You can drop objects by clicking anywhere on the screen.
     The collisions between the objects are accompanied by sound effects which take into account the  positions of the objects,
      as well as the force of the impacts.
      
      <p>
      Physics engine courtesy of <a href="http://www.box2d.org/">www.box2d.org</a>.
      </p>
      
      </td> 
 </tr> 


 
<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="simple.html" imageanchor="1"><img src="images/panning-reverb.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="simple.html"><b>Panning/Reverb</b></a> This sample allows the user to move various sounds around in 3D space and explore different kinds of acoustic environments.</td> 
</tr> 
 
<tr> 
<td style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="o3d-webgl-samples/pool.html" imageanchor="1"><img src="images/8-ball2.png" border="1"></a></div> 
</td> 
<td style="width: 300px;"><a href="o3d-webgl-samples/pool.html"><b>8-ball</b></a> A virtual pool game complete with sound effects.
    It uses WebGL (originally ported from o3d).</td> 
</tr> 

<tr> 
<td cellpadding="10" style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="javascript-processing.html"><img src="images/javascript-processing.png" border="1"></a></div> 
</td> 
<td style="width: 3000px;"><a href="javascript-processing.html"><b>JavaScript Processing</b></a> demonstrates how it's possible to do custom audio signal processing directly
in JavaScript.  Here we're processing audio using a simple amplitude modulator effect, then visualizing the results.  It's interesting to see how the side-bands move
as the modulation frequency is changed.<br> 
</td> 
</tr>

<tr> 
<td cellpadding="10" style="width: 60px;"> 
<div style="display: block; text-align: left;"><a href="doppler.html"><img src="images/doppler.png" border="1"></a></div> 
</td> 
<td style="width: 3000px;"><a href="doppler.html"><b>Doppler Shift</b></a> is a demo where an object is animated around the listener and illustrates
both 3D spatialized positioning and doppler shifting, where the pitch of a sound increases as it moves toward the listener and decreases as it moves away.
It's possible to change the trajectory of the object left/right, front/back, and up/down, as well as to select some parameters such as speed, pitch,
and sound source.<br> 
</td> 
</tr> 
 


</tbody> 
</table> 

<br><br>

<div id="how-to-build">
<h2>How to Build and Run</h2>

<p>
The code currently works on Mac OS X, but is actively being ported to Windows.
</p>

<h3>Getting the Code</h3>

<p>
The audio branch can be checked out using:
</p>

<pre>
svn co https://svn.webkit.org/repository/webkit/branches/audio WebKit
</pre>

<h3>Building and Running for Chrome</h3>

<h4>Building</h4>
<p>
To build for Chrome, it's necessary to build against a specific revision of Chromium (matching where the audio branch was taken in WebKit).
The Chromium subversion revision is 50686.
The <code>WebKit</code> directory (<code>src/third_party/WebKit</code>) must be from the audio branch (see above <code>svn co</code> command).
</p>

<p>
Much more detailed Chrome build instructions for the audio branch are <a href="chrome-build.html">here</a>.
</p>

<h4>Running</h4>
<p>
It is currently necessary to disable the sandbox in order to run the demos.  For example, to run your debug build of chromium:
</p>

<pre>
$ /YourFullPath/Chromium/src/xcodebuild/Debug/Chromium.app/Contents/MacOS/Chromium --no-sandbox --enable-webgl
</pre>

<p>
Optionally, for debugging purposes, you may wish to use the <code>--single-process</code> option.
</p>

<h3>Building for Safari</h3>

<p>
To build for Safari, go into the WebKit scripts directory (from the branch):
</p>

<pre>
$ cd WebKit/WebKitTools/Scripts
$ ./build-webkit --release
</pre>

<p>
If you haven't yet done so, you can enable WebGL now (necessary for some of the demos):
</p>

<pre>
$ defaults write com.apple.Safari WebKitWebGLEnabled -bool YES
</pre>

<p>
After building, you can run in Safari:
</p>

<pre>
$ ./run-safari --release
</pre>

</div>

 
</body> 
</html> 
